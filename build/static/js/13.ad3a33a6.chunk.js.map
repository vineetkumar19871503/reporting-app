{"version":3,"sources":["globals/methods.js","components/bills/AddComponent.js"],"names":["methods","print","id","content","document","getElementById","innerHTML","mywindow","window","open","write","close","focus","e","console","log","message","alert","moneyToWords","amt","require","AddComponent","props","_this","Object","F_My_Personal_Documents_maksud_reporting_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","F_My_Personal_Documents_maksud_reporting_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","F_My_Personal_Documents_maksud_reporting_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","errors","state","printData","shouldOpenAc","consumers","fields","k_number","consumer_name","amount","saveBill","bind","F_My_Personal_Documents_maksud_reporting_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","resetForm","title","getConsumers","field","value","assign","setState","show","arguments","length","undefined","ldr","classList","remove","add","keyword","self","showLoader","axios","get","config","apiUrl","headers","Authorization","user","token","then","res","data","map","dt","name","catch","err","ToastStore","error","cb","formIsValid","_validateField","trim","type","isFieldValid","test","val","_s","item","date","Date","getDate","getMonth","getFullYear","addZeroToTime","getHours","getMinutes","getSeconds","t","Math","round","preventDefault","validateForm","added_by","_id","post","is_err","success","printBill","_this2","_p","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","reactstrap__WEBPACK_IMPORTED_MODULE_10__","react_toasts__WEBPACK_IMPORTED_MODULE_9__","store","onSubmit","htmlFor","react_autocomplete__WEBPACK_IMPORTED_MODULE_11___default","items","inputProps","placeholder","maxLength","shouldItemRender","toLowerCase","indexOf","getItemValue","renderItem","highlighted","key","style","backgroundColor","onChange","onKnoChange","target","onSelect","onKnoSelect","changeInput","size","color","onClick","keys","padding","display","marginTop","width","textAlign","borderBottom","marginBottom","border","cellPadding","cellSpacing","styles","allBorders","allBordersExceptLeft","paddingLeft","receipt_number","getTime","bill_submission_date","align","allBordersExceptTop","allBordersExceptTopAndLeft","consumer","toUpperCase","trans_id","payment_mode","paddingRight","toFixed","colSpan","fontSize","fontStyle","getAmount","React","Component","borderTop","borderRight","borderLeft","connect"],"mappings":"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","file":"static/js/13.ad3a33a6.chunk.js","sourcesContent":["\r\nconst methods = {\r\n    print: id => {\r\n        try {\r\n            var content = document.getElementById(id).innerHTML;\r\n            var mywindow = window.open('', 'Print', 'height=600,width=800');\r\n            mywindow.document.write('<html><head><title></title>');\r\n            mywindow.document.write('</head><body >');\r\n            mywindow.document.write(content);\r\n            mywindow.document.write('</body></html>');\r\n            mywindow.document.close();\r\n            mywindow.focus();\r\n            mywindow.print();\r\n            mywindow.close();\r\n            return true;\r\n        } catch(e) {\r\n            console.log(e.message);\r\n            alert(\"Please allow Pop-up for priting the bill.\")\r\n        }\r\n        \r\n    },\r\n    moneyToWords: amt => {\r\n        return require('convert-rupees-into-words')(amt);\r\n    }\r\n}\r\n\r\nexport default methods;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { ToastContainer, ToastStore } from 'react-toasts';\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  CardHeader,\r\n  Col,\r\n  Form,\r\n  FormGroup,\r\n  Input,\r\n  Label,\r\n  Row\r\n} from 'reactstrap';\r\nimport ReactAutocomplete from 'react-autocomplete';\r\nimport config from '../../config.js';\r\nimport methods from '../../globals/methods';\r\nclass AddComponent extends React.Component {\r\n  errors = {};\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      'printData': {},\r\n      'shouldOpenAc': false,\r\n      'consumers': [],\r\n      'fields': {\r\n        'k_number': '',\r\n        'consumer_name': '',\r\n        'amount': ''\r\n        // 'payment_mode': ''\r\n      },\r\n      'errors': {}\r\n    };\r\n    this.saveBill = this.saveBill.bind(this);\r\n    this.resetForm = this.resetForm.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    document.title = \"Add New Bill\";\r\n    this.getConsumers();\r\n  }\r\n  changeInput(field, value) {\r\n    const state = Object.assign({}, this.state);\r\n    state['fields'][field] = value;\r\n    this.setState(state);\r\n  }\r\n  resetForm() {\r\n    this.setState({\r\n      'shouldOpenAc': false,\r\n      'fields': {\r\n        'k_number': '',\r\n        'consumer_name': '',\r\n        'amount': ''\r\n      }\r\n    });\r\n  }\r\n  showLoader(show = true) {\r\n    const ldr = document.getElementById('ajax-loader-container');\r\n    show ? ldr.classList.remove('disp-none') : ldr.classList.add('disp-none');\r\n  }\r\n  getConsumers(keyword) {\r\n    const self = this;\r\n    self.showLoader();\r\n    axios.get(config.apiUrl + 'consumers/list', {\r\n      headers: { 'Authorization': 'Bearer ' + self.props.user.token }\r\n    })\r\n      .then(res => {\r\n        self.showLoader(false);\r\n        const consumers = res.data.data.map(dt => {\r\n          dt.value = dt.consumer_name;\r\n          dt.name = dt.k_number;\r\n          return dt;\r\n        });\r\n        self.setState({ 'consumers': consumers });\r\n      })\r\n      .catch(err => {\r\n        self.showLoader(false);\r\n        ToastStore.error(err.message);\r\n      });\r\n  }\r\n  validateForm(cb) {\r\n    let formIsValid = true;\r\n    this.errors = {};\r\n    formIsValid = this._validateField('required', 'k_number', formIsValid);\r\n    formIsValid = this._validateField('required', 'consumer_name', formIsValid);\r\n    formIsValid = this._validateField('required', 'amount', formIsValid);\r\n    formIsValid = this._validateField('number', 'amount', formIsValid);\r\n    if (!this.errors['k_number']) {\r\n      const kNum = this.state.fields.k_number.trim();\r\n      if (kNum.length !== 11) {\r\n        formIsValid = false;\r\n        this.errors.k_number = \"The length of K Number should be 11\";\r\n      }\r\n    }\r\n    // formIsValid = this._validateField('required', 'payment_mode', formIsValid);\r\n    this.setState({ 'errors': this.errors });\r\n    if (formIsValid) {\r\n      cb();\r\n    }\r\n  }\r\n  _validateField(type = 'required', name, formIsValid) {\r\n    let fields = this.state.fields;\r\n    let isFieldValid = formIsValid;\r\n    if (this.errors[name]) {\r\n      return;\r\n    }\r\n    switch (type) {\r\n      case 'required': {\r\n        if (!fields[name] || !fields[name].trim().length) {\r\n          isFieldValid = false;\r\n          this.errors[name] = \"This field cannot be empty\";\r\n        }\r\n        break;\r\n      }\r\n      case 'number': {\r\n        if (!(/^\\d*$/.test(fields[name]))) {\r\n          isFieldValid = false;\r\n          this.errors[name] = \"Please enter number\";\r\n        }\r\n        break;\r\n      }\r\n      default: return;\r\n    }\r\n    return isFieldValid;\r\n  }\r\n  onKnoChange(val) {\r\n    const _s = Object.assign({}, this.state);\r\n    let shouldOpenAc = false;\r\n    if (val.length >= 8) {\r\n      shouldOpenAc = true;\r\n    }\r\n    _s.fields.k_number = val;\r\n    _s.shouldOpenAc = shouldOpenAc;\r\n    _s.fields.consumer_name = '';\r\n    this.setState(_s);\r\n  }\r\n  onKnoSelect(value, item) {\r\n    const _s = Object.assign({}, this.state);\r\n    _s.fields.k_number = value;\r\n    _s.fields.consumer_name = item.consumer_name;\r\n    _s.shouldOpenAc = false;\r\n    this.setState(_s);\r\n  }\r\n  getTime(date) {\r\n    date = new Date(date);\r\n    return date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear() + ' ' + this.addZeroToTime(date.getHours()) + ':' + this.addZeroToTime(date.getMinutes()) + ':' + this.addZeroToTime(date.getSeconds())\r\n  }\r\n  addZeroToTime(t) {\r\n    if (t < 10) {\r\n      t = \"0\" + t;\r\n    }\r\n    return t;\r\n  }\r\n  printBill() {\r\n    methods.print(\"printContainer\");\r\n  }\r\n  getAmount(amt) {\r\n    amt = Math.round(amt);\r\n    return methods.moneyToWords(amt);\r\n  }\r\n  saveBill(e) {\r\n    e.preventDefault();\r\n    const self = this;\r\n    self.validateForm(function () {\r\n      self.showLoader();\r\n      const fields = self.state.fields;\r\n      fields.added_by = self.props.user._id;\r\n      axios.post(\r\n        config.apiUrl + 'bills/add',\r\n        fields,\r\n        {\r\n          'headers': {\r\n            'Authorization': 'Bearer ' + self.props.user.token\r\n          }\r\n        }\r\n      )\r\n        .then(res => {\r\n          self.showLoader(false);\r\n          if (res.data.is_err) {\r\n            ToastStore.error(res.data.message);\r\n          } else {\r\n            ToastStore.success(res.data.message);\r\n            self.resetForm();\r\n            self.setState({ 'printData': res.data.data }, () => self.printBill());\r\n          }\r\n        })\r\n        .catch(err => {\r\n          self.showLoader(false);\r\n          ToastStore.error(err.message);\r\n        });\r\n    });\r\n  }\r\n  render() {\r\n    const _p = this.state.printData;\r\n    return <div className=\"animated fadeIn\">\r\n      <Row>\r\n        <Col>\r\n          <Card>\r\n            <ToastContainer store={ToastStore} />\r\n            <CardHeader>\r\n              <strong>Add New Bill</strong>\r\n            </CardHeader>\r\n            <Form onSubmit={this.saveBill}>\r\n              <CardBody>\r\n                <FormGroup>\r\n                  <Label htmlFor=\"k_number\">K Number</Label><br />\r\n                  <div className=\"custom-form-field\">\r\n                    <ReactAutocomplete\r\n                      items={this.state.consumers}\r\n                      inputProps={{ placeholder: 'Enter K Number', maxLength: \"11\" }}\r\n                      shouldItemRender={(item, value) => this.state.shouldOpenAc && item.k_number.toLowerCase().indexOf(value.toLowerCase()) > -1}\r\n                      getItemValue={item => item.k_number}\r\n                      renderItem={(item, highlighted) =>\r\n                        <div\r\n                          key={item._id}\r\n                          className=\"autocomplete-item\"\r\n                          style={{ backgroundColor: highlighted ? '#eee' : '#fff' }}\r\n                        >\r\n                          {item.k_number}\r\n                        </div>\r\n                      }\r\n                      value={this.state.fields.k_number}\r\n                      onChange={e => this.onKnoChange(e.target.value)}\r\n                      onSelect={(value, item) => this.onKnoSelect(value, item)}\r\n                    />\r\n                  </div>\r\n                  <span className=\"form-err\">{this.state.errors[\"k_number\"]}</span>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label htmlFor=\"consumer_name\">Consumer Name</Label>\r\n                  <Input type=\"text\" id=\"consumer_name\" value={this.state.fields.consumer_name} onChange={e => this.changeInput('consumer_name', e.target.value)} placeholder=\"Enter Consumer Name\" />\r\n                  <span className=\"form-err\">{this.state.errors[\"consumer_name\"]}</span>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label htmlFor=\"amount\">Amount</Label>\r\n                  <Input type=\"text\" id=\"amount\" value={this.state.fields.amount} onChange={e => this.changeInput('amount', e.target.value)} placeholder=\"Enter Amount\" />\r\n                  <span className=\"form-err\">{this.state.errors[\"amount\"]}</span>\r\n                </FormGroup>\r\n                {/* <FormGroup row>\r\n                  <Col md=\"2\">\r\n                    <Label>Payment Mode</Label>\r\n                  </Col>\r\n                  <Col md=\"10\">\r\n                    <FormGroup check inline className=\"radio\">\r\n                      <Input className=\"form-check-input\" onChange={e => this.changeInput('payment_mode', e.target.value)} type=\"radio\" id=\"payment1\" name=\"payment_mode\" value=\"cash\" />\r\n                      <Label check className=\"form-check-label\" htmlFor=\"payment1\">Cash</Label>\r\n                    </FormGroup>\r\n                    <FormGroup check inline className=\"radio\">\r\n                      <Input className=\"form-check-input\" onChange={e => this.changeInput('payment_mode', e.target.value)} type=\"radio\" id=\"payment2\" name=\"payment_mode\" value=\"cheque\" />\r\n                      <Label check className=\"form-check-label\" htmlFor=\"payment2\">Cheque</Label>\r\n                    </FormGroup>\r\n                    <span className=\"form-err\">{this.state.errors[\"payment_mode\"]}</span>\r\n                  </Col>\r\n                </FormGroup> */}\r\n              </CardBody>\r\n              <CardFooter>\r\n                <Button type=\"submit\" size=\"sm\" color=\"primary\">Submit</Button>\r\n                <Button type=\"button\" onClick={this.resetForm} size=\"sm\" color=\"danger\">Reset</Button>\r\n              </CardFooter>\r\n            </Form>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n      {\r\n        Object.keys(_p).length > 0 ?\r\n          <div id=\"printContainer\" style={{ 'padding': '20px', 'display': 'none' }}>\r\n            <div style={{ 'marginTop': '40px', 'width': '100%', 'textAlign': 'center', 'borderBottom': '1px solid black', 'marginBottom': '15px' }}>\r\n              <h2>\r\n                Government of Rajasthan\r\n                        <br />\r\n                District e-Governance Society (Jodhpur)\r\n                      </h2>\r\n            </div>\r\n            <table border=\"0\" cellPadding=\"0\" cellSpacing=\"0\" width=\"100%\" style={{ 'marginBottom': '15px' }}>\r\n              <tbody>\r\n                <tr>\r\n                  <td width=\"50%\" style={styles.allBorders}>\r\n                    <div style={{ 'padding': '15px' }}>\r\n                      {/* <img src=\"https://lh3.googleusercontent.com/I_c3oulsqXYrcnW1i4XQ6QWVcQcqkWS9DJnddwxAG0ZzLUHvAWeuJJj_IAGDsWqRatYJsGY4_bQFiWeUr3Y7veotewy87RmT-o2ylMA6S0jlOB8cmVCLBQcr8D7IiT_gFItG-RM6X1fDdKv1Snwl30aYfnVFH6niYjYuOAVQlyaeVfM117Uj7gCi9oE0u_juuhC-PCWYDLJxbBAJN21BePPd4uN7117TCs0B4ygExe07cnd-EFUIAVm1Ii_X4CPguy_AgNlPA87smOd6ak79wnJxCibdMx0dRWZDGMMbSZOYHjneLpukMTpTcxgA0D6JKAPlxZDZ3zp8_sr-_2lFd5LXidPkW6Cg6R_8qIdRVGGLBmhFPLvqlw19pi1eluHyCxoVwHBPjHKCi8XJXGl1n7CMGx7Nur96TIlHGd0CqZvMzGaHmhmjUeBlWIcBZ3hdFcOve2oaFZKdOgblYEyP_rvEFwUkqVAwSo7VgQQzMi-m3fzElgeFolufrwkQl94YGA5cNw_aTEVf7rS9i-92_Nnj-R2IjkzmVp93kliBuLHWzlq7H4f_mQnehzvQUKnEvS4Xxc8o4Jr2MphRfSV96G0ZSb9K51nS=w1366-h657\" /> */}\r\n                    </div>\r\n                  </td>\r\n                  <td style={styles.allBordersExceptLeft}>\r\n                    <div style={{ 'padding': '15px' }}>\r\n                      Code: K21005887 [ AKSH.AKSH.2366.JOD ] <br />\r\n                      Kiosk: AKSH OPTIFIBRE LTD <br />\r\n                      LSP: AKSH OPTIFIBRE <br />\r\n                      Phone: 9928268192 <br />\r\n                      Email: SENSANETWORKING@GMAIL.COM\r\n                            </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <table cellPadding=\"0\" cellSpacing=\"0\" border=\"0\" width=\"100%\" style={{ 'marginBottom': '15px' }}>\r\n              <tbody>\r\n                <tr>\r\n                  <td width=\"50%\" style={{ 'paddingLeft': '30px' }}><strong>Receipt No:</strong> {_p.receipt_number}</td>\r\n                  <td style={{ 'paddingLeft': '30px' }}>\r\n                    <strong>Receipt Date/Time:</strong> {this.getTime(_p.bill_submission_date)}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <table cellPadding=\"0\" cellSpacing=\"0\" border=\"0\" width=\"100%\">\r\n              <thead>\r\n                <tr>\r\n                  <th align=\"center\" style={styles.allBorders}>Sr No.</th>\r\n                  <th align=\"center\" style={styles.allBordersExceptLeft}>Department/Service</th>\r\n                  <th align=\"center\" style={styles.allBordersExceptLeft}>Consumer Info</th>\r\n                  <th align=\"center\" style={styles.allBordersExceptLeft}>Trans ID</th>\r\n                  <th align=\"center\" style={styles.allBordersExceptLeft}>Mode Ref No</th>\r\n                  <th align=\"center\" style={styles.allBordersExceptLeft}>Amount</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td align=\"center\" style={styles.allBordersExceptTop}>1</td>\r\n                  <td align=\"center\" style={styles.allBordersExceptTopAndLeft}>DISCOM/K No</td>\r\n                  <td align=\"center\" style={styles.allBordersExceptTopAndLeft}>{(_p.consumer.k_number + '/' + _p.consumer.consumer_name).toUpperCase()}</td>\r\n                  <td align=\"center\" style={styles.allBordersExceptTopAndLeft}>{_p.trans_id}</td>\r\n                  <td align=\"center\" style={styles.allBordersExceptTopAndLeft}>{_p.payment_mode.toUpperCase()}</td>\r\n                  <td align=\"right\" style={styles.allBordersExceptTopAndLeft}>\r\n                    <div style={{ 'paddingRight': '15px' }}>{_p.amount.toFixed(4)}</div>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td colSpan=\"5\" style={styles.allBordersExceptTop}><strong style={{ 'paddingLeft': '15px' }}>Grand Total</strong></td>\r\n                  <td align=\"right\" style={styles.allBordersExceptTopAndLeft}><strong style={{ 'paddingRight': '15px' }}>{_p.amount.toFixed(4)}</strong></td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            <div style={{ 'marginTop': '8px', 'fontSize': '15px', 'fontStyle': 'italic' }}>\r\n              Disclaimer: Payment through Cheque or DD are subject to realization.\r\n                    </div>\r\n            <div style={{ 'marginTop': '30px' }}>\r\n              Received Amount Rs. {_p.amount.toFixed(4)} ( Rupees {this.getAmount(_p.amount)} Only )\r\n                    </div>\r\n            <div style={{ 'textAlign': 'center', 'fontStyle': 'italic', 'fontSize': '15px', 'marginTop': '40px' }}>\r\n              (This is a computer generated receipt and requires no signature)\r\n                    </div>\r\n          </div> : null\r\n      }\r\n    </div>;\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user\r\n  }\r\n}\r\nconst styles = {\r\n  'allBorders': {\r\n    'border': '1px solid black'\r\n  },\r\n  'allBordersExceptLeft': {\r\n    'borderTop': '1px solid black', 'borderRight': '1px solid black', 'borderBottom': '1px solid black'\r\n  },\r\n  'allBordersExceptTop': {\r\n    'borderLeft': '1px solid black', 'borderRight': '1px solid black', 'borderBottom': '1px solid black'\r\n  },\r\n  'allBordersExceptTopAndLeft': {\r\n    'borderRight': '1px solid black', 'borderBottom': '1px solid black'\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(AddComponent);"],"sourceRoot":""}