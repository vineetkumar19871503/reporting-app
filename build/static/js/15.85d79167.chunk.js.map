{"version":3,"sources":["components/users/ListComponent.js"],"names":["ListComponent","props","_this","Object","F_My_Personal_Documents_maksud_reporting_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","F_My_Personal_Documents_maksud_reporting_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","F_My_Personal_Documents_maksud_reporting_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","errors","state","users","cols","Header","accessor","Cell","row","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","onClick","navToEditPage","data","alert","show","arguments","length","undefined","ldr","document","getElementById","classList","remove","add","user","type","ToastStore","error","history","push","title","self","showLoader","axios","get","config","apiUrl","headers","Authorization","token","then","res","setState","catch","err","message","_this2","reactstrap__WEBPACK_IMPORTED_MODULE_9__","size","color","react_toasts__WEBPACK_IMPORTED_MODULE_8__","store","react_table__WEBPACK_IMPORTED_MODULE_10__","columns","defaultPageSize","React","Component","connect"],"mappings":"8OAeMA,cAEJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAFRQ,OAAS,GAGPP,EAAKQ,MAAQ,CACXC,MAAS,GACTC,KAAQ,CACN,CACEC,OAAU,QACVC,SAAY,SAEd,CACED,OAAU,OACVC,SAAY,QAEd,CACED,OAAU,UACVE,KAAM,SAAAC,GAAG,OACPC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAcH,EAAAC,EAAAC,cAAA,UAAQE,QAAS,kBAAMnB,EAAKoB,cAAcN,KAA1C,aAhBpBd,6EAsBLqB,GACZ,OAAOC,MAAM,2DAGS,IAAbC,IAAaC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAChBG,EAAMC,SAASC,eAAe,yBACpCN,EAAOI,EAAIG,UAAUC,OAAO,aAAeJ,EAAIG,UAAUE,IAAI,yDAGhC,UAAzB7B,KAAKJ,MAAMkC,KAAKC,OAClBC,aAAWC,MAAM,iDACjBjC,KAAKJ,MAAMsC,QAAQC,KAAK,eAE1BV,SAASW,MAAQ,QACjB,IAAMC,EAAOrC,KACbqC,EAAKC,aACLC,IAAMC,IAAIC,IAAOC,OAAS,aAAc,CACtCC,QAAS,CAAEC,cAAiB,UAAYP,EAAKzC,MAAMkC,KAAKe,SAEvDC,KAAK,SAAAC,GACJV,EAAKC,YAAW,GAChBD,EAAKW,SAAS,CAAE1C,MAASyC,EAAI7B,KAAKA,SAEnC+B,MAAM,SAAAC,GACLb,EAAKC,YAAW,GAChBN,aAAWC,MAAMiB,EAAIC,4CAGlB,IAAAC,EAAApD,KACP,OAAOY,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACpBH,EAAAC,EAAAC,cAACuC,EAAA,EAAD,KACEzC,EAAAC,EAAAC,cAACuC,EAAA,EAAD,KACEzC,EAAAC,EAAAC,cAACuC,EAAA,EAAD,KACEzC,EAAAC,EAAAC,cAACuC,EAAA,EAAD,KACEzC,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAQC,KAAK,KAAKvC,UAAU,cAAcwC,MAAM,UAAUvC,QAAS,kBAAMoC,EAAKxD,MAAMsC,QAAQC,KAAK,gBAAjG,aAEFvB,EAAAC,EAAAC,cAACuC,EAAA,EAAD,KACEzC,EAAAC,EAAAC,cAAC0C,EAAA,eAAD,CAAgBC,MAAOzB,eACvBpB,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CACExC,KAAMlB,KAAKK,MAAMC,MACjBqD,QAAS3D,KAAKK,MAAME,KACpBqD,gBAAiB,GACjB7C,UAAU,oCAnEE8C,IAAMC,WAiFnBC,sBALS,SAAC1D,GACvB,MAAO,CACLyB,KAAMzB,EAAMyB,OAGDiC,CAAyBpE","file":"static/js/15.85d79167.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { ToastContainer, ToastStore } from 'react-toasts';\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Col,\r\n  Row\r\n} from 'reactstrap';\r\nimport ReactTable from \"react-table\";\r\nimport \"react-table/react-table.css\";\r\nimport config from '../../config.js';\r\nclass ListComponent extends React.Component {\r\n  errors = {};\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      'users': [],\r\n      'cols': [\r\n        {\r\n          'Header': 'Email',\r\n          'accessor': 'email'\r\n        },\r\n        {\r\n          'Header': 'Name',\r\n          'accessor': 'name'\r\n        },\r\n        {\r\n          'Header': 'Actions',\r\n          Cell: row => (\r\n            <div className='text-center'><button onClick={() => this.navToEditPage(row)}>Edit</button></div>\r\n          )\r\n        }\r\n      ]\r\n    };\r\n  }\r\n  navToEditPage(data) {\r\n    return alert('Under construction');\r\n    this.props.history.push('/users/edit/' + data.original._id);\r\n  }\r\n  showLoader(show = true) {\r\n    const ldr = document.getElementById('ajax-loader-container');\r\n    show ? ldr.classList.remove('disp-none') : ldr.classList.add('disp-none');\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.user.type !== 'admin') {\r\n      ToastStore.error(\"You are not authorized to perform this action\");\r\n      this.props.history.push('/dashboard');\r\n    }\r\n    document.title = \"Users\";\r\n    const self = this;\r\n    self.showLoader();\r\n    axios.get(config.apiUrl + 'users/list', {\r\n      headers: { 'Authorization': 'Bearer ' + self.props.user.token }\r\n    })\r\n      .then(res => {\r\n        self.showLoader(false);\r\n        self.setState({ 'users': res.data.data });\r\n      })\r\n      .catch(err => {\r\n        self.showLoader(false);\r\n        ToastStore.error(err.message);\r\n      });\r\n  }\r\n  render() {\r\n    return <div className=\"animated fadeIn\">\r\n      <Row>\r\n        <Col>\r\n          <Card>\r\n            <CardHeader>\r\n              <strong>Users</strong>\r\n              <Button size=\"sm\" className=\"float-right\" color=\"primary\" onClick={() => this.props.history.push('/users/add')}>Add User</Button>\r\n            </CardHeader>\r\n            <CardBody>\r\n              <ToastContainer store={ToastStore} />\r\n              <ReactTable\r\n                data={this.state.users}\r\n                columns={this.state.cols}\r\n                defaultPageSize={10}\r\n                className=\"-striped -highlight\"\r\n              />\r\n            </CardBody>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>;\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(ListComponent);"],"sourceRoot":""}