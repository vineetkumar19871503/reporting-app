{"version":3,"sources":["config.js","actions/UserAction.js","_nav.js","routes.js","views/DefaultLayout/DefaultLayout.js"],"names":["module","exports","apiUrl","login","data","type","payload","logout","__webpack_require__","d","__webpack_exports__","_nav","items","name","url","icon","children","routes","path","exact","component","DefaultLayout","React","lazy","e","then","bind","Promise","all","DefaultAside","DefaultFooter","DefaultHeader","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loading","react_default","a","createElement","className","user","navigation","push","state","navItems","preventDefault","history","replace","keys","length","self","axios","get","config","headers","Authorization","res","catch","err","response","ToastStore","error","message","signOut","_this2","build","store","react_es","fixed","react","fallback","onLogout","display","assign","navConfig","appRoutes","reactstrap_es","fluid","Switch","map","route","idx","Route","key","render","Redirect","from","to","Component","connect","dispatch"],"mappings":"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","file":"static/js/4.bf5464e0.chunk.js","sourcesContent":["// let env = process.env;\r\n// console.log(env);\r\nmodule.exports = {\r\n    \"apiUrl\": \"https://my-reporting-app-api.herokuapp.com/api/v1/\",\r\n    // \"apiUrl\": \"http://localhost:3005/api/v1/\"\r\n}","export function login(data) {\r\n    return {\r\n        type: 'LOGIN',\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport function logout() {\r\n    return {\r\n        type: 'LOGOUT'\r\n    }\r\n}","export default {\r\n  items: [\r\n    {\r\n      name: 'Dashboard',\r\n      url: '/dashboard',\r\n      icon: 'icon-speedometer',\r\n      // badge: {\r\n      //   variant: 'info',\r\n      //   text: 'NEW',\r\n      // },\r\n    },\r\n    {\r\n      name: 'Bills',\r\n      url: '/bills',\r\n      icon: 'icon-folder',\r\n      children: [\r\n        {\r\n          name: 'Add Bill',\r\n          url: '/bills/add',\r\n          icon: 'icon-plus',\r\n        },\r\n        {\r\n          name: 'Bills List',\r\n          url: '/bills/list',\r\n          icon: 'icon-list',\r\n        }\r\n      ]\r\n    },\r\n    // {\r\n    //   name: 'Users',\r\n    //   url: '/users',\r\n    //   icon: 'icon-user',\r\n    //   children: [\r\n    //     {\r\n    //       name: 'Add User',\r\n    //       url: '/users/add',\r\n    //       icon: 'icon-plus',\r\n    //     },\r\n    //     {\r\n    //       name: 'Users List',\r\n    //       url: '/users/list',\r\n    //       icon: 'icon-list',\r\n    //     }\r\n    //   ]\r\n    // },\r\n    // {\r\n    //   name: 'Buttons',\r\n    //   url: '/buttons',\r\n    //   icon: 'icon-cursor',\r\n    //   children: [\r\n    //     {\r\n    //       name: 'Buttons',\r\n    //       url: '/buttons/buttons',\r\n    //       icon: 'icon-cursor',\r\n    //     },\r\n    //     {\r\n    //       name: 'Button dropdowns',\r\n    //       url: '/buttons/button-dropdowns',\r\n    //       icon: 'icon-cursor',\r\n    //     },\r\n    //     {\r\n    //       name: 'Button groups',\r\n    //       url: '/buttons/button-groups',\r\n    //       icon: 'icon-cursor',\r\n    //     },\r\n    //     {\r\n    //       name: 'Brand Buttons',\r\n    //       url: '/buttons/brand-buttons',\r\n    //       icon: 'icon-cursor',\r\n    //     },\r\n    //   ],\r\n    // },\r\n  ],\r\n};\r\n","import React from 'react';\r\nimport DefaultLayout from './views/DefaultLayout';\r\n\r\nconst DashboardComponent = React.lazy(() => import('./components/dashboard/DashboardComponent'));\r\nconst AddBillComponent = React.lazy(() => import('./components/bills/AddComponent'));\r\nconst BillsListingComponent = React.lazy(() => import('./components/bills/ListComponent'));\r\nconst UsersListingComponent = React.lazy(() => import('./components/users/ListComponent'));\r\nconst AddUserComponent = React.lazy(() => import('./components/users/AddComponent'));\r\nconst EditUserComponent = React.lazy(() => import('./components/users/EditComponent'));\r\nconst routes = [\r\n  { path: '/', exact: true, name: 'Home', component: DefaultLayout },\r\n  { path: '/dashboard', name: 'Dashboard', component: DashboardComponent },\r\n  { path: '/bills/add', name: 'Add Bill', component: AddBillComponent },\r\n  { path: '/bills/list', name: 'Bills List', component: BillsListingComponent },\r\n  { path: '/users/list', name: 'Users List', component: UsersListingComponent },\r\n  { path: '/users/add', name: 'Add User', component: AddUserComponent },\r\n  { path: '/users/edit/:id', name: 'Edit User', component: EditUserComponent }\r\n];\r\n\r\nexport default routes;\r\n","import React, { Component, Suspense } from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { ToastContainer, ToastStore } from 'react-toasts';\r\nimport { logout } from '../../actions/UserAction';\r\nimport axios from 'axios';\r\nimport { Container } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport config from '../../config';\r\nimport {\r\n  AppAside,\r\n  AppBreadcrumb,\r\n  AppFooter,\r\n  AppHeader,\r\n  AppSidebar,\r\n  AppSidebarFooter,\r\n  AppSidebarForm,\r\n  AppSidebarHeader,\r\n  AppSidebarMinimizer,\r\n  AppSidebarNav,\r\n} from '@coreui/react';\r\n// sidebar nav config\r\nimport navigation from '../../_nav';\r\n// routes config\r\nimport routes from '../../routes';\r\n\r\nconst DefaultAside = React.lazy(() => import('./DefaultAside'));\r\nconst DefaultFooter = React.lazy(() => import('./DefaultFooter'));\r\nconst DefaultHeader = React.lazy(() => import('./DefaultHeader'));\r\n\r\nclass DefaultLayout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    if (this.props.user.type === 'admin') {\r\n      navigation.items.push({\r\n        name: 'Users',\r\n        url: '/users',\r\n        icon: 'icon-user',\r\n        children: [\r\n          {\r\n            name: 'Add User',\r\n            url: '/users/add',\r\n            icon: 'icon-plus',\r\n          },\r\n          {\r\n            name: 'Users List',\r\n            url: '/users/list',\r\n            icon: 'icon-list',\r\n          }\r\n        ]\r\n      });\r\n    }\r\n    this.state = { 'navItems': navigation };\r\n  }\r\n  loading = () => <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\r\n  signOut(e) {\r\n    if(e) {\r\n      e.preventDefault();\r\n    }\r\n    this.props.logout();\r\n    this.props.history.replace('/login');\r\n  }\r\n  componentWillMount() {\r\n    const user = this.props.user;\r\n    if (!user || (typeof user === 'object' && !Object.keys(user).length)) {\r\n      this.props.history.push('/login');\r\n    } else {\r\n      const self = this;\r\n      axios.get(config.apiUrl + 'users/checkSession', {\r\n        headers: { 'Authorization': 'Bearer ' + user }\r\n      })\r\n        .then(res => {\r\n        })\r\n        .catch(err => {\r\n          if (err.response && err.response.data) {\r\n            ToastStore.error(err.response.data.message);\r\n            if(err.response.data.message==='User session expired'){\r\n              self.signOut()\r\n              self.props.history.push('/login');\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <ToastContainer store={ToastStore} />\r\n        <AppHeader fixed>\r\n          <Suspense fallback={this.loading()}>\r\n            <DefaultHeader onLogout={e => this.signOut(e)} />\r\n          </Suspense>\r\n        </AppHeader>\r\n        <div className=\"app-body\">\r\n          <AppSidebar fixed display=\"lg\">\r\n            <AppSidebarHeader />\r\n            <AppSidebarForm />\r\n            <Suspense>\r\n              <AppSidebarNav navConfig={navigation} {...this.props} />\r\n            </Suspense>\r\n            <AppSidebarFooter />\r\n            <AppSidebarMinimizer />\r\n          </AppSidebar>\r\n          <main className=\"main\">\r\n            <AppBreadcrumb appRoutes={routes} />\r\n            <Container fluid>\r\n              <Suspense fallback={this.loading()}>\r\n                <Switch>\r\n                  {routes.map((route, idx) => {\r\n                    return route.component ? (\r\n                      <Route\r\n                        key={idx}\r\n                        path={route.path}\r\n                        exact={route.exact}\r\n                        name={route.name}\r\n                        render={props => (\r\n                          <route.component {...props} />\r\n                        )} />\r\n                    ) : (null);\r\n                  })}\r\n                  <Redirect from=\"/\" to=\"/login\" />\r\n                </Switch>\r\n              </Suspense>\r\n            </Container>\r\n          </main>\r\n          <AppAside fixed>\r\n            <Suspense fallback={this.loading()}>\r\n              <DefaultAside />\r\n            </Suspense>\r\n          </AppAside>\r\n        </div>\r\n        <AppFooter>\r\n          <Suspense fallback={this.loading()}>\r\n            <DefaultFooter />\r\n          </Suspense>\r\n        </AppFooter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.user\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    logout: () => dispatch(logout())\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DefaultLayout);\r\n"],"sourceRoot":""}