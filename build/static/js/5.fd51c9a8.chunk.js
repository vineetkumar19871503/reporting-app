(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{262:function(e,t){e.exports={apiUrl:"https://my-reporting-app-api.herokuapp.com/api/v1/"}},266:function(e,t,a){"use strict";function n(e){return{type:"LOGIN",payload:e}}function r(){return{type:"LOGOUT"}}a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r})},334:function(e,t,a){"use strict";a.r(t);var n=a(90),r=a(91),s=a(94),o=a(92),l=a(93),i=a(96),c=a(0),u=a.n(c),m=a(95),p=a(264),d=a.n(p),f=a(260),h=a(266),E=a(263),g=a(262),v=a.n(g),y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={fields:{email:"admin@admin.com",password:"abc@123"},errors:{}},a.login=a.login.bind(Object(i.a)(Object(i.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.user;"object"===typeof e&&Object.keys(e).length&&this.props.history.replace("/dashboard")}},{key:"componentDidMount",value:function(){document.title="Login"}},{key:"showLoader",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.getElementById("ajax-loader-container");e?t.classList.remove("disp-none"):t.classList.add("disp-none")}},{key:"changeInput",value:function(e,t){var a=Object.assign({},this.state);a.fields[e]=t,this.setState(a)}},{key:"login",value:function(e){var t=this;e.preventDefault(),t.validateForm(function(){t.showLoader(),d.a.post(v.a.apiUrl+"users/login",t.state.fields).then(function(e){t.showLoader(!1),e.data.is_err?E.ToastStore.error(e.data.message):(t.props.login(e.data.data),t.props.history.push("/dashboard"))}).catch(function(e){t.showLoader(!1),E.ToastStore.error(e.message)})})}},{key:"validateForm",value:function(e){var t=this.state.fields,a={},n=!0;if(t.email||(n=!1,a.email="Email cannot be empty"),"undefined"!==typeof t.email){var r=t.email.lastIndexOf("@"),s=t.email.lastIndexOf(".");r<s&&r>0&&-1===t.email.indexOf("@@")&&s>2&&t.email.length-s>2||(n=!1,a.email="Email is not valid")}t.password&&t.password.trim().length||(n=!1,a.password="Password can not be empty"),this.setState({errors:a}),n&&e()}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"app flex-row align-items-center"},u.a.createElement(E.ToastContainer,{store:E.ToastStore}),u.a.createElement(f.k,null,u.a.createElement(f.C,{className:"justify-content-center"},u.a.createElement(f.j,{md:"8"},u.a.createElement(f.h,null,u.a.createElement(f.e,{className:"p-4"},u.a.createElement(f.f,null,u.a.createElement(f.p,{onSubmit:this.login},u.a.createElement("h1",null,"Login"),u.a.createElement("p",{className:"text-muted"},"Sign In to your account"),u.a.createElement(f.s,{className:"mb-3"},u.a.createElement(f.t,{addonType:"prepend"},u.a.createElement(f.u,null,u.a.createElement("i",{className:"icon-user"}))),u.a.createElement(f.r,{type:"text",value:this.state.fields.email,onChange:function(t){return e.changeInput("email",t.target.value)},placeholder:"Email",autoComplete:"username"}),u.a.createElement("span",{className:"form-err"},this.state.errors.email)),u.a.createElement(f.s,{className:"mb-4"},u.a.createElement(f.t,{addonType:"prepend"},u.a.createElement(f.u,null,u.a.createElement("i",{className:"icon-lock"}))),u.a.createElement(f.r,{type:"password",value:this.state.fields.password,onChange:function(t){return e.changeInput("password",t.target.value)},placeholder:"Password",autoComplete:"current-password"}),u.a.createElement("span",{className:"form-err"},this.state.errors.password)),u.a.createElement(f.C,null,u.a.createElement(f.j,{xs:"6"},u.a.createElement(f.d,{color:"primary",className:"px-4"},"Login")))))))))))}}]),t}(c.Component);t.default=Object(m.b)(function(e){return{user:e.user}},function(e){return{login:function(t){return e(Object(h.a)(t))}}})(y)}}]);
//# sourceMappingURL=5.fd51c9a8.chunk.js.map