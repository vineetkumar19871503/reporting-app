(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{262:function(e,n){e.exports={apiUrl:"https://my-reporting-app-api.herokuapp.com/api/v1/"}},266:function(e,n,t){"use strict";function a(e){return{type:"LOGIN",payload:e}}function l(){return{type:"LOGOUT"}}t.d(n,"a",function(){return a}),t.d(n,"b",function(){return l})},348:function(e,n,t){"use strict";t.r(n);var a=t(90),l=t(91),r=t(94),s=t(92),i=t(93),o=t(0),u=t.n(o),c=t(350),p=t(332),m=t(347),d=t(263),h=t(266),f=t(264),b=t.n(f),E=t(260),g=t(95),y=t(262),k=t.n(y),v=t(274),O={items:[{name:"Dashboard",url:"/dashboard",icon:"icon-speedometer"},{name:"Bills",url:"/bills",icon:"icon-folder",children:[{name:"Add Bill",url:"/bills/add",icon:"icon-plus"},{name:"Bills List",url:"/bills/list",icon:"icon-list"}]}]},j=[{path:"/",exact:!0,name:"Home",component:S},{path:"/dashboard",name:"Dashboard",component:u.a.lazy(function(){return t.e(12).then(t.bind(null,341))})},{path:"/bills/add",name:"Add Bill",component:u.a.lazy(function(){return Promise.all([t.e(21),t.e(13)]).then(t.bind(null,342))})},{path:"/bills/list",name:"Bills List",component:u.a.lazy(function(){return Promise.all([t.e(2),t.e(20),t.e(14)]).then(t.bind(null,343))})},{path:"/users/list",name:"Users List",component:u.a.lazy(function(){return Promise.all([t.e(2),t.e(15)]).then(t.bind(null,344))})},{path:"/users/add",name:"Add User",component:u.a.lazy(function(){return t.e(16).then(t.bind(null,345))})},{path:"/users/edit/:id",name:"Edit User",component:u.a.lazy(function(){return t.e(17).then(t.bind(null,346))})}],z=u.a.lazy(function(){return t.e(9).then(t.bind(null,338))}),U=u.a.lazy(function(){return t.e(10).then(t.bind(null,339))}),x=u.a.lazy(function(){return t.e(11).then(t.bind(null,340))}),L=function(e){function n(e){var t;return Object(a.a)(this,n),(t=Object(r.a)(this,Object(s.a)(n).call(this,e))).loading=function(){return u.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},"admin"===t.props.user.type&&O.items.push({name:"Users",url:"/users",icon:"icon-user",children:[{name:"Add User",url:"/users/add",icon:"icon-plus"},{name:"Users List",url:"/users/list",icon:"icon-list"}]}),t.state={navItems:O},t}return Object(i.a)(n,e),Object(l.a)(n,[{key:"signOut",value:function(e){e&&e.preventDefault(),this.props.logout(),this.props.history.replace("/login")}},{key:"componentWillMount",value:function(){var e=this.props.user;if(!e||"object"===typeof e&&!Object.keys(e).length)this.props.history.push("/login");else{var n=this;b.a.get(k.a.apiUrl+"users/checkSession",{headers:{Authorization:"Bearer "+e}}).then(function(e){}).catch(function(e){e.response&&e.response.data&&(d.ToastStore.error(e.response.data.message),"User session expired"===e.response.data.message&&(n.signOut(),n.props.history.push("/login")))})}}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"app"},u.a.createElement(d.ToastContainer,{store:d.ToastStore}),u.a.createElement(v.d,{fixed:!0},u.a.createElement(o.Suspense,{fallback:this.loading()},u.a.createElement(x,{onLogout:function(n){return e.signOut(n)}}))),u.a.createElement("div",{className:"app-body"},u.a.createElement(v.f,{fixed:!0,display:"lg"},u.a.createElement(v.i,null),u.a.createElement(v.h,null),u.a.createElement(o.Suspense,null,u.a.createElement(v.k,Object.assign({navConfig:O},this.props))),u.a.createElement(v.g,null),u.a.createElement(v.j,null)),u.a.createElement("main",{className:"main"},u.a.createElement(v.b,{appRoutes:j}),u.a.createElement(E.k,{fluid:!0},u.a.createElement(o.Suspense,{fallback:this.loading()},u.a.createElement(c.a,null,j.map(function(e,n){return e.component?u.a.createElement(p.a,{key:n,path:e.path,exact:e.exact,name:e.name,render:function(n){return u.a.createElement(e.component,n)}}):null}),u.a.createElement(m.a,{from:"/",to:"/login"}))))),u.a.createElement(v.a,{fixed:!0},u.a.createElement(o.Suspense,{fallback:this.loading()},u.a.createElement(z,null)))),u.a.createElement(v.c,null,u.a.createElement(o.Suspense,{fallback:this.loading()},u.a.createElement(U,null))))}}]),n}(o.Component),S=n.default=Object(g.b)(function(e){return{user:e.user}},function(e){return{logout:function(){return e(Object(h.b)())}}})(L)}}]);
//# sourceMappingURL=4.bf5464e0.chunk.js.map